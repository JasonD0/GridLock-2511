import java.awt.Color;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import javax.swing.BorderFactory;
import javax.swing.JComponent;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.Timer;

public class Car extends JComponent implements ActionListener, KeyListener{
	private final int GRID_HEIGHT = 6;
	private final int GRID_LENGTH = 6;
	
	Timer t = new Timer(5, this);
	int x = 0, y = 0, velX = 0, velY = 0;
	int height = 0, length = 0;
	
	public Car(int x, int y, int length, int height) {
		t.start();
		addKeyListener(this);
		setFocusable(true);
		setFocusTraversalKeysEnabled(false);
	}
	
	@Override
	public void paintComponent(Graphics g) {
		super.paintComponent(g);
		g.setColor(Color.RED);
		g.fillRect(x, y, 50, 30);
	}
	
	public void tryMove(int newX, int newY) {
		
	}
	
	@Override
	public void actionPerformed(ActionEvent e) {
		if (x < 0) {
			velX = 0;
			x = 0;
		} 
		if (x > 605) {
			velX = 0;
			x = 605;
		}
		if (y < 0) {
			velY = 0;
			y = 0;
		}
		if (y > 400) {
			velY = 0;
			y = 400;
		}
		x += velX;
		y += velY;
		repaint();
	}

	@Override
	public void keyPressed(KeyEvent e) {
		int c = e.getKeyCode();
		if (c == KeyEvent.VK_LEFT) {
			velX = -1000000;
			velY = 0;
		}
		if (c == KeyEvent.VK_RIGHT) {
			velX = 100000;
			velY = 0;
		}
	}

	@Override
	public void keyTyped(KeyEvent e) {}
	
	@Override
	public void keyReleased(KeyEvent e) {
		velX = 0;
		velY = 0;
	}
}
